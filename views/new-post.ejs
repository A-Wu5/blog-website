<%- include("partials/header.ejs") %>
<main class="text-start">

<!-- If title already exists -->
<% if (locals.post) { %>
  
  <form action="/new-post" method="post">
    <p class="text-danger">Error: Title already exists</p>
    <div class="form-floating mb-3">
      <input class="form-control" type="text" name="title" placeholder="Title" 
        value = <%=post["title"]%> required/>
      <label class="text-secondary" for="title">Title</label>
    </div>
    <label class="mb-2" for="author">Author</label>
    <div class="form-floating mb-3">
      <input class="form-control" type="text" name="first-name" placeholder="First name" 
        value= <%=post["first-name"]%> required/>
      <label for="first-name" class="text-secondary">First Name</label>
    </div>
    <div class="form-floating mb-3">
      <input class="form-control" type="text" name="last-name" placeholder="Last name" 
        value= <%=post["last-name"]%> required/>
      <label class="text-secondary" for="last-name">Last Name</label>
    </div>
    
    <textarea name="content" placeholder="Start typing here..." required><%=post["content"]%></textarea>
    <input class="submit" type="submit" value="Submit" />
  
  </form>
<% } else { %>
<!-- If title does NOT already exist -->
  <form action="/new-post" method="post">
    <div class="form-floating mb-3">
      <input class="form-control" type="text" name="title" placeholder="Title" required/>
      <label class="text-secondary" for="title">Title</label>
    </div>
    <label class="mb-2" for="author">Author</label>
    <div class="form-floating mb-3">
      <input class="form-control" type="text" name="first-name" placeholder="First name" required/>
      <label for="first-name" class="text-secondary">First Name</label>
    </div>
    <div class="form-floating mb-3">
      <input class="form-control" type="text" name="last-name" placeholder="Last name" required/>
      <label class="text-secondary" for="last-name">Last Name</label>
    </div>
    
    <textarea name="content" placeholder="Start typing here..." required></textarea>

    <input class="submit" type="submit" value="Submit" />

  </form>
<% } %>
</main>
<%- include("partials/footer.ejs") %>
